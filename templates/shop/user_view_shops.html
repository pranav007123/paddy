{% extends 'shop/shop_base.html' %}

{% block title %}Shops - Plant Health System{% endblock %}

{% block content %}
<div class="container">
    <h2><i class="fas fa-store me-2"></i>Available Shops</h2>
    <hr>

    {% if shops %}
        <div class="row">
            {% for shop in shops %}
            <div class="col-md-4 mb-4">
                <div class="card h-100 shop-card">
                    <div class="card-body">
                        <h5 class="card-title">{{ shop.shop_name }}</h5>
                        <p class="card-text">{{ shop.description|default:"No description available." }}</p>
                        <p class="card-text"><i class="fas fa-map-marker-alt text-success me-2"></i>{{ shop.address }}</p>
                        <p class="card-text"><i class="fas fa-envelope text-info me-2"></i>{{ shop.email }}</p>
                        {% if shop.contact_number %}
                            <p class="card-text"><i class="fas fa-phone text-warning me-2"></i>{{ shop.contact_number }}</p>
                        {% endif %}
                        <p class="card-text">
                            <small class="text-muted">
                                Status: 
                                <span class="badge 
                                    {% if shop.status == 'approved' %}bg-success
                                    {% elif shop.status == 'pending' %}bg-warning
                                    {% else %}bg-danger{% endif %}">
                                    {{ shop.status|title }}
                                </span>
                            </small>
                        </p>
                    </div>
                    <div class="card-footer">
                        <a href="{% url 'view_categories_plants' %}" class="btn btn-success btn-sm">View Plants</a>
                        <a href="{% url 'send_shop_review' shop.id %}" class="btn btn-outline-primary btn-sm">Review</a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="text-center">
            <i class="fas fa-store fa-5x text-muted mb-3"></i>
            <h4>No shops available yet</h4>
            <p class="text-muted">Check back later for more shops joining our platform.</p>
        </div>
    {% endif %}
</div>
{% endblock %}